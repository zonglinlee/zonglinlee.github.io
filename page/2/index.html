<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"tumbleweed.top","root":"/","scheme":"Mist","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"always","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":false,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="Hello world!">
<meta property="og:type" content="website">
<meta property="og:title" content="风滚草">
<meta property="og:url" content="https://tumbleweed.top/page/2/index.html">
<meta property="og:site_name" content="风滚草">
<meta property="og:description" content="Hello world!">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="zonglinlee">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://tumbleweed.top/page/2/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>风滚草</title>
  


  <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?3cf2ba04786ec43f607967d2bcd6a389";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>




  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<link rel="alternate" href="/atom.xml" title="风滚草" type="application/atom+xml">
<link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css"></head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">风滚草</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">tumbleweed.top</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>首页</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>归档</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://tumbleweed.top/hexo-can-shu/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="zonglinlee">
      <meta itemprop="description" content="Hello world!">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="风滚草">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/hexo-can-shu/" class="post-title-link" itemprop="url">hexo参数</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-04-28 16:03:57" itemprop="dateCreated datePublished" datetime="2020-04-28T16:03:57+00:00">2020-04-28</time>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/hexo-can-shu/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="hexo-can-shu/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <ul>
<li>site.data<br>在source/_data文件夹下的 YAML or JSON files<br>比如在此文件夹下有一个 munu.yaml 文件，则可以在模板字符串中，link是 property</li>
</ul>
<p>&lt;% for (var link in site.data.menu) { %&gt;<br>  <a href="<%= site.data.menu[link] %>"> &lt;%= link %&gt; </a><br>&lt;% } %&gt;</p>
<p>hexo new [layout] <title><br>post is the default layout<br>There are three default layouts in Hexo: post, page and draft.<br>layout 存在于根目录下的 Scaffolds 文件夹中，里面默认有page.md/post.md/draft.md 三个</p>
<p>type=”image/x-icon” 是什么</p>
<p>theme 文件夹<br>.<br>├── _config.yml<br>├── languages<br>├── layout   //模板字符串文件夹<br>├── scripts //hexo 初始化时候会自动加载这个文件夹的js文件<br>└── source  //js/css 等直接copy到根目录下的public文件夹 ，会忽略隐藏文件和以_开头的文件</p>
<p>网站部署的时候根目录是生成的public文件夹<br>page ：Page specific information and custom variables set in front-matter.<br>page.content：The full processed content of the article</p>
<p><code>Hexo</code> has special <code>page</code> called <code>post</code>.</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://tumbleweed.top/jquery/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="zonglinlee">
      <meta itemprop="description" content="Hello world!">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="风滚草">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/jquery/" class="post-title-link" itemprop="url">jquery</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-04-28 16:03:57" itemprop="dateCreated datePublished" datetime="2020-04-28T16:03:57+00:00">2020-04-28</time>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/jquery/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="jquery/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <ul>
<li>jQuery对象类似数组，它的每个元素都是一个引用了DOM节点的对象。</li>
<li>jQuery的选择器不会返回undefined或者null</li>
<li>jQuery对象和DOM对象之间可以互相转化<pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> div <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#abc'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// jQuery对象</span>
<span class="token keyword">var</span> divDom <span class="token operator">=</span> div<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 假设存在div，获取第1个DOM元素</span>
<span class="token keyword">var</span> another <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span>divDom<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 重新把DOM包装为jQuery对象</span></code></pre>
</li>
<li>可以查找同时包含red和green的节点<pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'.red.green'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// 注意没有空格！</span>
<span class="token keyword">var</span> email <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'[name=email]'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 找出&lt;??? name="email"></span>
<span class="token keyword">var</span> emailInput <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'input[name=email]'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
根据tag和<span class="token keyword">class</span>来组合查找也很常见：
<span class="token keyword">var</span> tr <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'tr.red'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> </code></pre>
</li>
<li>$(‘ancestor descendant’)</li>
<li>子选择器$(‘parent&gt;child’)</li>
<li>过滤器（Filter）过滤器一般不单独使用，它通常附加在选择器上，帮助我们更精确地定位元素。last-child/first-child/even/odd/nth-child</li>
<li>针对表单元素，jQuery还有一组特殊的选择器<br>:enabled/:disabled/:file/:radio/:focus</li>
</ul>
<h2 id="查找和过滤"><a href="#查找和过滤" class="headerlink" title="查找和过滤"></a>查找和过滤</h2><p>通常情况下选择器可以直接定位到我们想要的元素，但是，当我们拿到一个jQuery对象后，还可以以这个对象为基准，进行查找和过滤。</p>
<p>最常见的查找是在某个节点的所有子节点中查找，使用find()方法，它本身又接收一个任意的选择器。如果要从当前节点开始向上查找，使用parent()方法parent() 对于位于同一层级的节点，可以通过next()和prev()方法</p>
<p>过滤方法：filter()方法可以过滤掉不符合选择器条件的节点；map()方法把一个jQuery对象包含的若干DOM节点转化为其他对象；此外，一个jQuery对象如果包含了不止一个DOM节点，first()、last()和slice()方法可以返回一个新的jQuery对象，把不需要的DOM节点去掉<br>过滤方法中传入一个函数，要特别注意函数内部的this被绑定为DOM对象，不是jQuery对象</p>
<h2 id="操作DOM"><a href="#操作DOM" class="headerlink" title="操作DOM"></a>操作DOM</h2><p>jQuery对象的text()和html()方法分别获取节点的文本和原始HTML文本，jQuery的API设计非常巧妙：无参数调用text()是获取文本，传入参数就变成设置文本，HTML也是类似操作</p>
<p>一个jQuery对象可以包含0个或任意个DOM对象，它的方法实际上会作用在对应的每个DOM节点上</p>
<h2 id="修改CSS"><a href="#修改CSS" class="headerlink" title="修改CSS"></a>修改CSS</h2><p>jQuery对象有“批量操作”的特点，这用于修改CSS实在是太方便了<br>$(‘#test-css li.dy&gt;span’).css(‘background-color’, ‘#ffd351’).css(‘color’, ‘red’);<br>为了和JavaScript保持一致，CSS属性可以用’background-color’和’backgroundColor’两种格式。</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> div <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#test-div'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span><span class="token function">hasClass</span><span class="token punctuation">(</span><span class="token string">'highlight'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// false， class是否包含highlight</span>
div<span class="token punctuation">.</span><span class="token function">addClass</span><span class="token punctuation">(</span><span class="token string">'highlight'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 添加highlight这个class</span>
div<span class="token punctuation">.</span><span class="token function">removeClass</span><span class="token punctuation">(</span><span class="token string">'highlight'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 删除highlight这个class</span></code></pre>
<h2 id="显示和隐藏DOM"><a href="#显示和隐藏DOM" class="headerlink" title="显示和隐藏DOM"></a>显示和隐藏DOM</h2><p>要隐藏一个DOM，我们可以设置CSS的display属性为none，利用css()方法就可以实现。不过，要显示这个DOM就需要恢复原有的display属性，这就得先记下来原有的display属性到底是block还是inline还是别的值。</p>
<p>考虑到显示和隐藏DOM元素使用非常普遍，jQuery直接提供show()和hide()方法</p>
<h2 id="获取DOM信息"><a href="#获取DOM信息" class="headerlink" title="获取DOM信息"></a>获取DOM信息</h2><p>利用jQuery对象的若干方法，我们直接可以获取DOM的高宽等信息，而无需针对不同浏览器编写特定代码：</p>
<p>// 浏览器可视窗口大小:<br>$(window).width(); // 800<br>$(window).height(); // 600</p>
<p>// HTML文档大小:<br>$(document).width(); // 800<br>$(document).height(); // 3500</p>
<p>attr()和removeAttr()方法用于操作DOM节点的属性<br>prop()方法和attr()类似<br>attr()和prop()对于属性checked处理有所不同：</p>
<p>var radio = $(‘#test-radio’);<br>radio.attr(‘checked’); // ‘checked’<br>radio.prop(‘checked’); // true<br>prop()返回值更合理一些。不过，用is()方法判断更好：</p>
<p>var radio = $(‘#test-radio’);<br>radio.is(‘:checked’); // true<br>类似的属性还有selected，处理时最好用is(‘:selected’)。</p>
<h2 id="操作表单"><a href="#操作表单" class="headerlink" title="操作表单"></a>操作表单</h2><p>对于表单元素，jQuery对象统一提供val()方法获取和设置对应的value属性,一个val()就统一了各种输入框的取值和赋值的问题</p>
<h2 id="修改DOM结构"><a href="#修改DOM结构" class="headerlink" title="修改DOM结构"></a>修改DOM结构</h2><p>直接使用浏览器提供的API对DOM结构进行修改，不但代码复杂，而且要针对浏览器写不同的代码。</p>
<ul>
<li>除了通过jQuery的html()这种暴力方法外，还可以用append()方法<br>ul.append(‘<li><span>Haskell</span></li>‘);<br>除了接受字符串，append()还可以传入原始的DOM对象，jQuery对象和函数对象<br>传入函数时，要求返回一个字符串、DOM对象或者jQuery对象。因为jQuery的append()可能作用于一组DOM节点，只有传入函数才能针对每个DOM生成不同的子节点。</li>
</ul>
<p>append()把DOM添加到最后，prepend()则把DOM添加到最前。<br>另外注意，如果要添加的DOM节点已经存在于HTML文档中，它会首先从文档移除，然后再添加，也就是说，用append()，你可以移动一个DOM节点。</p>
<p>如果要把新节点插入到指定位置after(),也就是说，同级节点可以用after()或者before()方法</p>
<p>删除节点<br>要删除DOM节点，拿到jQuery对象后直接调用remove()方法就可以了。如果jQuery对象包含若干DOM节点，实际上可以一次删除多个DOM节点</p>
<h2 id="事件"><a href="#事件" class="headerlink" title="事件"></a>事件</h2><p>下面两种写法等价，后者更常用</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#test-link'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
a<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'Hello!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
a<span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'Hello!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>鼠标事件：mousemove：鼠标在DOM内部移动时触发； hover：鼠标进入和退出时触发两个函数，相当于mouseenter加上mouseleave。<br>ready事件仅作用于document对象。由于ready事件在DOM完成初始化后触发，且只触发一次，所以非常适合用来写其他的初始化代码。</p>
<p>$(function () {<br>    // init…<br>});<br>这种写法最为常见。如果你遇到$(function () {…})的形式，牢记这是document对象的ready事件处理函数。可以反复绑定事件处理函数，它们会依次执行<br>取消绑定<br>一个已被绑定的事件可以解除绑定，通过off(‘click’, function)实现<br>可以使用off(‘click’)一次性移除已绑定的click事件的所有处理函数。<br>同理，无参数调用off()一次性移除已绑定的所有类型的事件处理函数<br>浏览器安全限制<br>在浏览器中，有些JavaScript代码只有在用户触发下才能执行，例如，window.open()函数</p>
<p>编写jQuery插件<br>给jQuery对象绑定一个新方法是通过扩展$.fn对象实现的<br>$.fn.highlight1 = function () {<br>    // this已绑定为当前jQuery对象:<br>    this.css(‘backgroundColor’, ‘#fffceb’).css(‘color’, ‘#d85030’);<br>    return this;<br>}<br>注意到函数内部的this在调用时被绑定为jQuery对象，所以函数内部代码可以正常调用所有jQuery对象的方法。</p>
<p>最终，我们得出编写一个jQuery插件的原则：</p>
<p>给$.fn绑定函数，实现插件的代码逻辑；<br>插件函数最后要return this;以支持链式调用；<br>插件函数要有默认值，绑定在$.fn.<pluginName>.defaults上；<br>用户在调用时可传入设定值以便覆盖默认值。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://tumbleweed.top/js/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="zonglinlee">
      <meta itemprop="description" content="Hello world!">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="风滚草">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/js/" class="post-title-link" itemprop="url">js</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-04-28 16:03:57" itemprop="dateCreated datePublished" datetime="2020-04-28T16:03:57+00:00">2020-04-28</time>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/js/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="js/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="function-作用"><a href="#function-作用" class="headerlink" title="!function(){}() 作用"></a><code>!function(){}()</code> 作用</h2><p>跟(function(){})();这个函数是一个意思，都是告诉浏览器自动运行这个匿名函数的，因为!+()这些符号的运算符是最高的，所以会先运行它们后面的函数</p>
<h2 id="DOMTokenList-interface"><a href="#DOMTokenList-interface" class="headerlink" title="DOMTokenList interface"></a>DOMTokenList interface</h2><p>The DOMTokenList interface represents a set of space-separated tokens. Such a set is returned by <code>Element.classList</code>.</p>
<div class="class1 class2"></div>
原生dom方法来toggle一个类：`div.classList.toggle("class1")`
<hr>
## noscript 标签
## form
enctype 属性
在method是post的情况下，enctype是form提交时候的mime类型
默认是：application/x-www-form-urlencoded
如果有input 的type为file类型，即这个表单要上传文件，则使用multipart/form-data类型
using the GET method (in this case the enctype attribute will be ignored).
## FormData 对象
在form enctype='multipart/form-data'情况下，可以使用FormData对象来讲form中要提交的数据转换成一个对象，用ajax来提交。
It is primarily intended for use in sending form data, but can be used independently from forms in order to transmit keyed data.

<p>var formData = new FormData(someFormElement);//将form元素传入构造函数，返回表单提交的数据对象，还可以用formData.append(“username”, “Groucho”);来添加新的键值对。<br>优缺点：Using the FormData API is the simplest and fastest, but has the disadvantage that data collected can not be stringified.</p>
<p>如果不想使用FormData对象，请参考以下链接<br><a href="https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/Using_XMLHttpRequest#Submitting_forms_and_uploading_files" target="_blank" rel="noopener">https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/Using_XMLHttpRequest#Submitting_forms_and_uploading_files</a></p>
<h2 id="ajax-cookie"><a href="#ajax-cookie" class="headerlink" title="ajax cookie"></a>ajax cookie</h2><p>ajax 配置nginx,跨域请求的时候会不带cookie,如果要带cookie<br>request header 要配置 withCredentials：true<br>response header 要配置 Access-Control-Allow-Credentials: true</p>
<p>如果用koa框架，会有 <code>koa-cors</code>包设置Access-Control-Allow-Credentials.  查看koa-cors源码配置选项{credentials:true}</p>
<h2 id="FormData-对象"><a href="#FormData-对象" class="headerlink" title="FormData 对象"></a>FormData 对象</h2><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> form <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'form'</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> formdata <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FormData</span><span class="token punctuation">(</span><span class="token string">'form'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>formdata<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">//打印出{}空对象</span>
<span class="token comment" spellcheck="true">//FormData实例对象打印不出任何东西，但它提供了许多方法，会返回迭代器。</span></code></pre>
<p>FormData.entries()<br>Returns an iterator allowing to go through all key/value pairs contained in this object.</p>
<h2 id="File-interface"><a href="#File-interface" class="headerlink" title="File interface"></a>File interface</h2><p>The File interface provides information about files and allows JavaScript in a web page to access their content.<br><code>File</code> objects are generally retrieved from a <code>FileList</code> object returned as a result of a user selecting files using the <input> element, from a drag and drop operation’s <code>DataTransfer</code> object, or from the <code>mozGetAsFile() API</code> on an <code>HTMLCanvasElement</code>.<br>A File object is a specific kind of a <code>Blob</code>, and can be used in any context that a Blob can. In particular, <code>FileReader</code>, <code>URL.createObjectURL()</code>, <code>createImageBitmap()</code>, and <code>XMLHttpRequest.send()</code> accept both Blobs and Files.<br>file属性<br>Properties:File.lastModified/File.lastModifiedDate/File.name/File.size/File.type<br>file 方法<br>File接口不实现任何方法，都是从Blob接口上继承上来的。</p>
<h2 id="Blob"><a href="#Blob" class="headerlink" title="Blob"></a>Blob</h2><p>The Blob object represents a blob, which is a file-like object of immutable, raw data; they can be read as text or binary data, or converted into a <code>ReadableStream</code> so its methods can be used for processing the data.</p>
<p>Blobs can represent data that isn’t necessarily in a JavaScript-native format. The File interface is based on Blob, inheriting blob functionality and expanding it to support files on the user’s system.</p>
<h2 id="ArrayBuffer"><a href="#ArrayBuffer" class="headerlink" title="ArrayBuffer"></a>ArrayBuffer</h2><p>The ArrayBuffer object is used to represent a generic, fixed-length raw binary data buffer.<br>It is an array of bytes, often referred to in other languages as a “byte array”.You cannot directly manipulate the contents of an ArrayBuffer; instead, you create one of the <code>typed array objects</code> or a <code>DataView</code> object which represents the buffer in a specific format, and use that to read and write the contents of the buffer.</p>
<p>The ArrayBuffer() constructor creates a new ArrayBuffer of the given length in bytes, you can also get an array buffer from existing data, for example from a <code>Base64 string</code> or from a <code>local file</code>.</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://tumbleweed.top/koa-1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="zonglinlee">
      <meta itemprop="description" content="Hello world!">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="风滚草">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/koa-1/" class="post-title-link" itemprop="url">koa(1)</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-04-28 16:03:57" itemprop="dateCreated datePublished" datetime="2020-04-28T16:03:57+00:00">2020-04-28</time>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/koa-1/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="koa-1/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>koa不包含任何middleware,express.static这种都不包括<br>它的中间件原理和express不太一样<br>app.use(async function(ctx,next){<br>    console.log(1)//先打印1<br>    await next() //这里会走下一个中间件，打印a<br>    console.log(2)//再执行打印2<br>})<br>app.use(async function(ctx,function(){<br>    console.log(“a”)<br>}))<br>app.listen(4000)</p>
<p>koa 中写异步需要用promise包装一下</p>
<h3 id="koa中间件"><a href="#koa中间件" class="headerlink" title="koa中间件"></a>koa中间件</h3><p>koa-bodyparser 处理响应体，当请求体过来的时候会赋值给ctx.request.body<br>缺点：不支持文件上传<br>如果要支持文件上传 再express中用multer中间件，再koa 中用koa-better-body中间件，它会将请求体对象赋值给ctx.request.fields,中间件需要配置上传路径<br>表单form中要添加enctype属性 <form method="POST" enctype="multipart/form-data">,否则上传不了<br>koa-convert<br>将一个generator中间件(koa1)转成koa2可以使用的async中间件<br>app.use(convert(bodyParser({<br>    uploadDir:path.join(__dirname,’uploads’)<br>})))</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://tumbleweed.top/mysql-1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="zonglinlee">
      <meta itemprop="description" content="Hello world!">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="风滚草">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/mysql-1/" class="post-title-link" itemprop="url">mysql(1)</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-04-28 16:03:57" itemprop="dateCreated datePublished" datetime="2020-04-28T16:03:57+00:00">2020-04-28</time>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/mysql-1/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="mysql-1/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="mysql安装"><a href="#mysql安装" class="headerlink" title="mysql安装"></a>mysql安装</h2><p><a href="https://blog.csdn.net/Very666/article/details/98594227" target="_blank" rel="noopener">https://blog.csdn.net/Very666/article/details/98594227</a></p>
<h2 id="连接mysql"><a href="#连接mysql" class="headerlink" title="连接mysql"></a>连接mysql</h2><p>MySQL Client的可执行程序是mysql，MySQL Server的可执行程序是mysqld。<br>MySQL Client中输入的SQL语句通过TCP连接发送到MySQL Server。默认端口号是3306，即如果发送到本机MySQL Server，地址就是127.0.0.1:3306。<br>也可以只安装MySQL Client，然后连接到远程MySQL Server。假设远程MySQL Server的IP地址是10.0.1.99，那么就使用-h指定IP或域名：<br>mysql -h 10.0.1.99 -u root -p</p>
<h2 id="mysql常用命令"><a href="#mysql常用命令" class="headerlink" title="mysql常用命令"></a>mysql常用命令</h2><p>SHOW DATABASES;<br>CREATE DATABASE test;//创建数据库<br>USE test;<br>CREATE TABLE students;//创建一个表<br>DROP TABLE students;//删除一个表<br>SHOW TABLES;//列出当前数据库中所有表<br>DESC students;//查看一个表的结构<br>SHOW CREATE TABLE students;//查看创建表的SQL语句<br>ALTER TABLE students ADD COLUMN birth VARCHAR(10) NOT NULL;//增加一列<br>ALTER TABLE students CHANGE COLUMN birth birthday VARCHAR(20) NOT NULL;//修改列信息<br>ALTER TABLE students DROP COLUMN birthday;//删除列<br>DROP DATABASE test; //删除一个数据库<br>EXIT; //断开mysql客户端和服务器的连接</p>
<h3 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h3><p><a href="https://www.runoob.com/mysql/mysql-tutorial.html" target="_blank" rel="noopener">https://www.runoob.com/mysql/mysql-tutorial.html</a><br><a href="https://juejin.im/post/5ae55861f265da0ba062ec71" target="_blank" rel="noopener">https://juejin.im/post/5ae55861f265da0ba062ec71</a></p>
<h2 id="node-js-库-mysql-用法"><a href="#node-js-库-mysql-用法" class="headerlink" title="node.js 库 mysql 用法"></a><a href="https://github.com/mysqljs/mysql" target="_blank" rel="noopener">node.js 库 <code>mysql</code> 用法</a></h2><h3 id="连接mysql-1"><a href="#连接mysql-1" class="headerlink" title="连接mysql"></a>连接mysql</h3><p>方式一(推荐)：返回一个connection对象</p>
<pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">//Connection options可以参考文档</span>
<span class="token keyword">var</span> mysql      <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'mysql'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> connection <span class="token operator">=</span> mysql<span class="token punctuation">.</span><span class="token function">createConnection</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  host     <span class="token punctuation">:</span> <span class="token string">'example.org'</span><span class="token punctuation">,</span>
  user     <span class="token punctuation">:</span> <span class="token string">'bob'</span><span class="token punctuation">,</span>
  password <span class="token punctuation">:</span> <span class="token string">'secret'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>方式二：ssl连接方式，需要读取SSL profiles配置文件<br>方式三：Pooling connections<br>一次性创建多个连接,返回一个pool对象，详情参考文档</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> mysql <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'mysql'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> pool  <span class="token operator">=</span> mysql<span class="token punctuation">.</span><span class="token function">createPool</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  connectionLimit <span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
  host            <span class="token punctuation">:</span> <span class="token string">'example.org'</span><span class="token punctuation">,</span>
  user            <span class="token punctuation">:</span> <span class="token string">'bob'</span><span class="token punctuation">,</span>
  password        <span class="token punctuation">:</span> <span class="token string">'secret'</span><span class="token punctuation">,</span>
  database        <span class="token punctuation">:</span> <span class="token string">'my_db'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<h3 id="断开mysql连接"><a href="#断开mysql连接" class="headerlink" title="断开mysql连接"></a>断开mysql连接</h3><p>两种方法</p>
<pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">//方式一：优雅的断开连接</span>
connection<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment" spellcheck="true">// The connection is terminated now</span>
  <span class="token comment" spellcheck="true">//if err,an err argument will be provided to the callback, but the connection will be terminated regardless of that.</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">//方式二：不推荐</span>
connection<span class="token punctuation">.</span><span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<h3 id="查询数据库"><a href="#查询数据库" class="headerlink" title="查询数据库"></a>查询数据库</h3><p>连接对象connection 和pool 都提供了 query(sqlString, callback) 方法用于执行sql语句查询,三种方式</p>
<pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">//方式一：简单查询</span>
connection<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token string">'SELECT * FROM `books` WHERE `author` = "David"'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>error<span class="token punctuation">,</span> results<span class="token punctuation">,</span> fields<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment" spellcheck="true">// error will be an Error if one occurred during the query</span>
  <span class="token comment" spellcheck="true">// results will contain the results of the query</span>
  <span class="token comment" spellcheck="true">// fields will contain information about the returned results fields (if any)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">//方式二：query(sqlString, values, callback) comes when using placeholder values </span>
<span class="token comment" spellcheck="true">//方式三：query(options, callback) comes when using various advanced options</span></code></pre>
<h3 id="Escaping-query-values-转义查询语句"><a href="#Escaping-query-values-转义查询语句" class="headerlink" title="Escaping query values 转义查询语句"></a>Escaping query values 转义查询语句</h3><p>These methods of escaping values only works when the NO_BACKSLASH_ESCAPES SQL mode is disabled (which is the default state for MySQL servers).<br>为了防止SQL注入，用户执行的sql语句都应该先进行转义，mysql.escape(), connection.escape() or pool.escape() 这三个方法都可以使用</p>
<pre class=" language-js"><code class="language-js"> <span class="token comment" spellcheck="true">//方法一：</span>
<span class="token keyword">var</span> userId <span class="token operator">=</span> <span class="token string">'some user provided value'</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> sql    <span class="token operator">=</span> <span class="token string">'SELECT * FROM users WHERE id = '</span> <span class="token operator">+</span> connection<span class="token punctuation">.</span><span class="token function">escape</span><span class="token punctuation">(</span>userId<span class="token punctuation">)</span><span class="token punctuation">;</span>
connection<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span>sql<span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>error<span class="token punctuation">,</span> results<span class="token punctuation">,</span> fields<span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">throw</span> error<span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">//方法二：use ? characters as placeholders ，这个本质上也是调用connection.escape()方法</span>
connection<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token string">'SELECT * FROM users WHERE id = ?'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>userId<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>error<span class="token punctuation">,</span> results<span class="token punctuation">,</span> fields<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">throw</span> error<span class="token punctuation">;</span>
  <span class="token comment" spellcheck="true">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">//多个占位符映射到数组</span>
connection<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token string">'UPDATE users SET foo = ?, bar = ?, baz = ? WHERE id = ?'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">,</span> userId<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>error<span class="token punctuation">,</span> results<span class="token punctuation">,</span> fields<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">throw</span> error<span class="token punctuation">;</span>
  <span class="token comment" spellcheck="true">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<h3 id="Escaping-query-identifiers转义数据库-表-列-名"><a href="#Escaping-query-identifiers转义数据库-表-列-名" class="headerlink" title="Escaping query identifiers转义数据库/表/列 名"></a>Escaping query identifiers转义数据库/表/列 名</h3><p>if you can’t trust an SQL identifier (database / table / column name) because it is provided by a user, you should escape it with mysql.escapeId(identifier), connection.escapeId(identifier) or pool.escapeId(identifier)</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> sorter <span class="token operator">=</span> <span class="token string">'date'</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> sql    <span class="token operator">=</span> <span class="token string">'SELECT * FROM posts ORDER BY '</span> <span class="token operator">+</span> connection<span class="token punctuation">.</span><span class="token function">escapeId</span><span class="token punctuation">(</span>sorter<span class="token punctuation">)</span><span class="token punctuation">;</span>
connection<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span>sql<span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>error<span class="token punctuation">,</span> results<span class="token punctuation">,</span> fields<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">throw</span> error<span class="token punctuation">;</span>
  <span class="token comment" spellcheck="true">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>使用 ?? 占位符</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> userId <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> columns <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'username'</span><span class="token punctuation">,</span> <span class="token string">'email'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> query <span class="token operator">=</span> connection<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token string">'SELECT ?? FROM ?? WHERE id = ?'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>columns<span class="token punctuation">,</span> <span class="token string">'users'</span><span class="token punctuation">,</span> userId<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>error<span class="token punctuation">,</span> results<span class="token punctuation">,</span> fields<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">throw</span> error<span class="token punctuation">;</span>
  <span class="token comment" spellcheck="true">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>query<span class="token punctuation">.</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// SELECT `username`, `email` FROM `users` WHERE id = 1</span></code></pre>
<h3 id="预定义查询语句格式"><a href="#预定义查询语句格式" class="headerlink" title="预定义查询语句格式"></a>预定义查询语句格式</h3><p>You can use mysql.format to prepare a query with multiple insertion points, utilizing the proper escaping for ids and values. A simple example of this follows:</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> sql <span class="token operator">=</span> <span class="token string">"SELECT * FROM ?? WHERE ?? = ?"</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> inserts <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'users'</span><span class="token punctuation">,</span> <span class="token string">'id'</span><span class="token punctuation">,</span> userId<span class="token punctuation">]</span><span class="token punctuation">;</span>
sql <span class="token operator">=</span> mysql<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>sql<span class="token punctuation">,</span> inserts<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://tumbleweed.top/sql/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="zonglinlee">
      <meta itemprop="description" content="Hello world!">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="风滚草">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/sql/" class="post-title-link" itemprop="url">sql</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-04-28 16:03:57" itemprop="dateCreated datePublished" datetime="2020-04-28T16:03:57+00:00">2020-04-28</time>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/sql/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="sql/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h2><p>INT    整型    4字节整数类型，范围约+/-21亿<br>BIGINT    长整型    8字节整数类型，范围约+/-922亿亿<br>REAL    浮点型    4字节浮点数，范围约+/-1038 ( FLOAT(24) )<br>DOUBLE    浮点型    8字节浮点数，范围约+/-10308<br>DECIMAL(M,N)    高精度小数    由用户指定精度的小数，例如，DECIMAL(20,10)表示一共20位，其中小数10位，通常用于财务计算<br>CHAR(N)    定长字符串    存储指定长度的字符串，例如，CHAR(100)总是存储100个字符的字符串<br>VARCHAR(N)    变长字符串    存储可变长度的字符串，例如，VARCHAR(100)可以存储0<del>100个字符的字符串<br>BOOLEAN    布尔类型    存储True或者False<br>DATE    日期类型    存储日期，例如，2018-06-22<br>TIME    时间类型    存储时间，例如，12:20:59<br>DATETIME    日期和时间类型    存储日期+时间，例如，2018-06-22 12:20:59<br>上面的表中列举了最常用的数据类型。很多数据类型还有别名，例如，REAL又可以写成FLOAT(24)。还有一些不常用的数据类型，例如，TINYINT（范围在0</del>255）。各数据库厂商还会支持特定的数据类型，例如JSON。<br>选择数据类型的时候，要根据业务规则选择合适的类型。通常来说，BIGINT能满足整数存储的需求，VARCHAR(N)能满足字符串存储的需求，这两种类型是使用最广泛的。</p>
<h2 id="关系模型"><a href="#关系模型" class="headerlink" title="关系模型"></a>关系模型</h2><h3 id="主键"><a href="#主键" class="headerlink" title="主键"></a>主键</h3><p>对于关系表，有个很重要的约束，就是任意两条记录不能重复。不能重复不是指两条记录不完全相同，而是指能够通过某个字段唯一区分出不同的记录，这个字段被称为主键<br>对主键的要求，最关键的一点是：记录一旦插入到表中，主键最好不要再修改，因为主键是用来唯一定位记录的，修改了主键，会造成一系列的影响。<br>选取主键的一个基本原则是：不使用任何业务相关的字段作为主键。<br>因此，身份证号、手机号、邮箱地址这些看上去可以唯一的字段，均不可用作主键。<br>作为主键最好是完全业务无关的字段，我们一般把这个字段命名为id。常见的可作为id字段的类型有：<br>自增整数类型：数据库会在插入数据时自动为每一条记录分配一个自增整数，这样我们就完全不用担心主键重复，也不用自己预先生成主键；<br>全局唯一GUID类型：使用一种全局唯一的字符串作为主键，类似8f55d96b-8acc-4636-8cb8-76bf8abc2f57。GUID算法通过网卡MAC地址、时间戳和随机数保证任意计算机在任意时间生成的字符串都是不同的，大部分编程语言都内置了GUID算法，可以自己预算出主键。</p>
<h3 id="联合主键"><a href="#联合主键" class="headerlink" title="联合主键"></a>联合主键</h3><p>关系数据库实际上还允许通过多个字段唯一标识记录，即两个或更多的字段都设置为主键，这种主键被称为联合主键。对于联合主键，允许一列有重复，只要不是所有主键列都重复即可。没有必要的情况下，我们尽量不使用联合主键，因为它给关系表带来了复杂度的上升。</p>
<h3 id="外键"><a href="#外键" class="headerlink" title="外键"></a>外键</h3><p>在students表中，通过class_id的字段，可以把数据与另一张表关联起来，这种列称为外键。</p>
<p>外键并不是通过列名实现的，而是通过定义外键约束实现的：<br>ALTER TABLE students<br>ADD CONSTRAINT fk_class_id<br>FOREIGN KEY (class_id)<br>REFERENCES classes (id);<br>其中，外键约束的名称fk_class_id可以任意，FOREIGN KEY (class_id)指定了class_id作为外键，REFERENCES classes (id)指定了这个外键将关联到classes表的id列（即classes表的主键）。</p>
<p>通过定义外键约束，关系数据库可以保证无法插入无效的数据。即如果classes表不存在id=99的记录，students表就无法插入class_id=99的记录。</p>
<p>由于外键约束会降低数据库的性能，大部分互联网应用程序为了追求速度，并不设置外键约束，而是仅靠应用程序自身来保证逻辑的正确性。这种情况下，class_id仅仅是一个普通的列，只是它起到了外键的作用而已。</p>
<p>要删除一个外键约束，也是通过ALTER TABLE实现的：<br>ALTER TABLE students<br>DROP FOREIGN KEY fk_class_id;<br>注意：删除外键约束并没有删除外键这一列。删除列是通过DROP COLUMN …实现的。</p>
<h3 id="索引"><a href="#索引" class="headerlink" title="索引"></a>索引</h3><p>在关系数据库中，如果有上万甚至上亿条记录，在查找记录的时候，想要获得非常快的速度，就需要使用索引。</p>
<p>索引是关系数据库中对某一列或多个列的值进行预排序的数据结构。通过使用索引，可以让数据库系统不必扫描整个表，而是直接定位到符合条件的记录，这样就大大加快了查询速度。<br>ALTER TABLE students ADD INDEX idx_score (score);<br>索引如果有多列，可以在括号里依次写上<br>ALTER TABLE students ADD INDEX idx_name_score (name, score);<br>索引的效率取决于索引列的值是否散列，即该列的值如果越互不相同，那么索引效率越高。反过来，如果记录的列存在大量相同的值，例如gender列，大约一半的记录值是M，另一半是F，因此，对该列创建索引就没有意义。<br>可以对一张表创建多个索引。索引的优点是提高了查询效率，缺点是在插入、更新和删除记录时，需要同时修改索引，因此，索引越多，插入、更新和删除记录的速度就越慢。<br>对于主键，关系数据库会自动对其创建主键索引。使用主键索引的效率是最高的，因为主键会保证绝对唯一。</p>
<h3 id="唯一索引"><a href="#唯一索引" class="headerlink" title="唯一索引"></a>唯一索引</h3><p>在设计关系数据表的时候，看上去唯一的列，例如身份证号、邮箱地址等，因为他们具有业务含义，因此不宜作为主键。<br>但是，这些列根据业务要求，又具有唯一性约束：即不能出现两条记录存储了同一个身份证号。这个时候，就可以给该列添加一个唯一索引。<br>ALTER TABLE students<br>ADD UNIQUE INDEX uni_name (name);<br>也可以只对某一列添加一个唯一约束而不创建唯一索引：<br>ALTER TABLE students<br>ADD CONSTRAINT uni_name UNIQUE (name);<br>这种情况下，name列没有索引，但仍然具有唯一性保证。</p>
<h2 id="查询数据"><a href="#查询数据" class="headerlink" title="查询数据"></a>查询数据</h2><h3 id="基本查询"><a href="#基本查询" class="headerlink" title="基本查询"></a>基本查询</h3><p>SELECT * FROM &lt;表名&gt;<br>SELECT 100+200;//用于计算<br>虽然SELECT可以用作计算，但它并不是SQL的强项。但是，不带FROM子句的SELECT语句有一个有用的用途，就是用来判断当前到数据库的连接是否有效。许多检测工具会执行一条SELECT 1;来测试数据库连接。</p>
<h3 id="条件查询"><a href="#条件查询" class="headerlink" title="条件查询"></a>条件查询</h3><p>SELECT * FROM &lt;表名&gt; WHERE &lt;条件表达式&gt;<br>如果不加括号，条件运算按照NOT、AND、OR的优先级进行，即NOT优先级最高，其次是AND，最后是OR。加上括号可以改变优先级。<br>SELECT * FROM students WHERE score &gt;= 80;<br>SELECT * FROM students WHERE score &gt;= 80 AND gender = ‘M’;<br>SELECT * FROM students WHERE score &gt;= 80 OR gender = ‘M’;<br>SELECT * FROM students WHERE NOT class_id = 2;<br>SELECT * FROM students WHERE (score &lt; 80 OR score &gt; 90) AND gender = ‘M’;</p>
<h3 id="投影查询"><a href="#投影查询" class="headerlink" title="投影查询"></a>投影查询</h3><p>只希望返回某些列的数据，而不是所有列的数据，我们可以用SELECT 列1, 列2, 列3 FROM …，让结果集仅包含指定列。这种操作称为投影查询。<br>SELECT id, score, name FROM students;<br>SELECT 列1 别名1, 列2 别名2, 列3 别名3 FROM …<br>SELECT id, score points, name FROM students  WHERE gender = ‘M’;</p>
<h3 id="排序"><a href="#排序" class="headerlink" title="排序"></a>排序</h3><p>使用SELECT查询时，细心的读者可能注意到，查询结果集通常是按照id排序的，也就是根据主键排序。这也是大部分数据库的做法。如果我们要根据其他条件排序怎么办？可以加上ORDER BY子句。默认的排序规则是ASC：“升序”，即从小到大。<br>SELECT id, name, gender, score FROM students WHERE class_id = 1 ORDER BY score;<br>SELECT id, name, gender, score FROM students ORDER BY score DESC;//按照score倒序排列<br>SELECT id, name, gender, score FROM students ORDER BY score DESC, gender;//先按照score降序排列，如果分数相同再按照gender排序</p>
<h3 id="分页查询"><a href="#分页查询" class="headerlink" title="分页查询"></a>分页查询</h3><p>分页实际上就是从结果集中“截取”出第M~N条记录。这个查询可以通过LIMIT <M> OFFSET <N>子句实现，随着N越来越大，查询效率也会越来越低。<br>分页查询的关键在于，首先要确定每页需要显示的结果数量pageSize（这里是3），然后根据当前页的索引pageIndex（从1开始），确定LIMIT和OFFSET应该设定的值：<br>LIMIT总是设定为pageSize；<br>OFFSET计算公式为pageSize * (pageIndex - 1)</p>
<p>SELECT id, name, gender, score FROM students ORDER BY score DESC LIMIT 3 OFFSET 0;//先排序再分页，对结果集从0号记录开始，最多取3条。注意SQL记录集的索引从0开始。</p>
<h3 id="聚合查询"><a href="#聚合查询" class="headerlink" title="聚合查询"></a>聚合查询</h3><p>对于统计总数、平均数这类计算，SQL提供了专门的聚合函数，使用聚合函数进行查询，就是聚合查询，它可以快速获得结果。COUNT/SUM/AVG/MAX/MIN<br>SELECT COUNT(<em>) FROM students;//查询一个表有多少条记录<br>COUNT(</em>)表示查询所有列的行数，要注意聚合的计算结果虽然是一个数字，但查询的结果仍然是一个二维表，只是这个二维表只有一行一列，并且列名是COUNT(<em>)<br>通常，使用聚合查询时，我们应该给列名设置一个别名，便于处理结果<br>SELECT COUNT(</em>) num FROM students;<br>SELECT COUNT(<em>) boys FROM students WHERE gender = ‘M’;<br>如果聚合查询的WHERE条件没有匹配到任何行，COUNT()会返回0，而SUM()、AVG()、MAX()和MIN()会返回NULL<br>对于聚合查询，SQL还提供了“分组聚合”的功能。聚合查询的列中，只能放入分组的列<br>SELECT class_id, COUNT(</em>) num FROM students GROUP BY class_id;</p>
<h3 id="多表查询"><a href="#多表查询" class="headerlink" title="多表查询"></a>多表查询</h3><p>使用多表查询可以获取M x N行记录；多表查询的结果集可能非常巨大，要小心使用<br>SELECT * FROM &lt;表1&gt; &lt;表2&gt;<br>SELECT * FROM students, classes;//查询的结果也是一个二维表，它是students表和classes表的“乘积”，即students表的每一行与classes表的每一行都两两拼在一起返回。结果集的列数是students表和classes表的列数之和，行数是students表和classes表的行数之积。<br>SELECT<br>    s.id sid,<br>    s.name,<br>    s.gender,<br>    s.score,<br>    c.id cid,<br>    c.name cname<br>FROM students s, classes c<br>WHERE s.gender = ‘M’ AND c.id = 1; //设置表的别名简化写法，设置列的别名去除列重名</p>
<h3 id="连接查询"><a href="#连接查询" class="headerlink" title="连接查询"></a>连接查询</h3><p>连接查询是另一种类型的多表查询，连接查询对多个表进行JOIN运算，简单地说，就是先确定一个主表作为结果集，然后，把其他表的行有选择性地“连接”在主表结果集上。<br>SELECT s.id, s.name, s.class_id, c.name class_name, s.gender, s.score FROM students s INNER JOIN classes c<br>ON s.class_id = c.id;<br>内连接——INNER JOIN 获取交集<br>外连接—— LEFT OUTER JOIN/RIGHT OUTER JOIN/FULL OUTER JOIN</p>
<h2 id="修改数据"><a href="#修改数据" class="headerlink" title="修改数据"></a>修改数据</h2><h3 id="INSERT"><a href="#INSERT" class="headerlink" title="INSERT"></a>INSERT</h3><p>INSERT INTO &lt;表名&gt; (字段1, 字段2, …) VALUES (值1, 值2, …);<br>id字段是一个自增主键，它的值可以由数据库自己推算出来。此外，如果一个字段有默认值，那么在INSERT语句中也可以不出现<br>//一次插入多条语句<br>INSERT INTO students (class_id, name, gender, score) VALUES<br>  (1, ‘大宝’, ‘M’, 87),<br>  (2, ‘二宝’, ‘M’, 81);</p>
<h3 id="UPDATE"><a href="#UPDATE" class="headerlink" title="UPDATE"></a>UPDATE</h3><p>UPDATE &lt;表名&gt; SET 字段1=值1, 字段2=值2, … WHERE …;<br>在UPDATE语句中，更新字段时可以使用表达式。<br>UPDATE students SET name=’大牛’, score=66 WHERE id=1;<br>//一次性更新多条记录<br>UPDATE students SET name=’小牛’, score=77 WHERE id&gt;=5 AND id&lt;=7;<br>UPDATE students SET score=score+10 WHERE score&lt;80;<br>//要特别小心的是，UPDATE语句可以没有WHERE条件,这时，整个表的所有记录都会被更新<br>UPDATE students SET score=60;</p>
<h3 id="DELETE"><a href="#DELETE" class="headerlink" title="DELETE"></a>DELETE</h3><p>DELETE FROM &lt;表名&gt; WHERE …;<br>DELETE FROM students WHERE id=1;<br>DELETE FROM students WHERE id&gt;=5 AND id&lt;=7;<br>DELETE FROM students;(小心操作)</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://tumbleweed.top/nginx/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="zonglinlee">
      <meta itemprop="description" content="Hello world!">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="风滚草">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/nginx/" class="post-title-link" itemprop="url">nginx</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-04-28 16:03:57" itemprop="dateCreated datePublished" datetime="2020-04-28T16:03:57+00:00">2020-04-28</time>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/nginx/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="nginx/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="windows-nginx指南"><a href="#windows-nginx指南" class="headerlink" title="windows nginx指南"></a>windows nginx指南</h3><p><a href="http://nginx.org/en/docs/windows.html" target="_blank" rel="noopener">http://nginx.org/en/docs/windows.html</a><br>新手指引<br><a href="http://nginx.org/en/docs/beginners_guide.html" target="_blank" rel="noopener">http://nginx.org/en/docs/beginners_guide.html</a><br><a href="http://nginx.org/en/docs/" target="_blank" rel="noopener">http://nginx.org/en/docs/</a><br>nginx配置常见误区<br><a href="https://www.nginx.com/resources/wiki/start/topics/tutorials/config_pitfalls/" target="_blank" rel="noopener">https://www.nginx.com/resources/wiki/start/topics/tutorials/config_pitfalls/</a><br>配置指南<br><a href="https://www.linode.com/docs/web-servers/nginx/how-to-configure-nginx/" target="_blank" rel="noopener">https://www.linode.com/docs/web-servers/nginx/how-to-configure-nginx/</a></p>
<p>一定要结合日志查看nginx 服务运行状况<br>access.log error.log 这两个文件很重要<br>windows下载nginx目录中开启cmd窗口<br>start nginx.exe<br>nginx.exe -s stop  //暴力退出<br>nginx.exe -s quit  //优雅退出<br>nginx.exe -s reload  //重新加载配置文件<br>nginx.exe -V   //查看各个目录<br>nginx.exe -t   //检查配置文件是否正确 </p>
<h3 id="Linux下安装nginx"><a href="#Linux下安装nginx" class="headerlink" title="Linux下安装nginx"></a>Linux下安装nginx</h3><p>yum install nginx -y</p>
<p>RPM (Red Hat Package Manager) is an default open source and most popular package management utility for Red Hat based systems like (RHEL, CentOS and Fedora).The tool allows system administrators and users to install, update, uninstall, query, verify and manage system software packages in Unix/Linux operating systems. The RPM formerly known as .rpm file, that includes compiled software programs and libraries needed by the packages. This utility only works with packages that built on .rpm format.</p>
<p>rpm -ql nginx #查看配置文件和目录</p>
<p>nginx http 中server模块的配置<br>root是服务器的根目录，可以在server字段中配置，location中可以覆盖<br>index 字段在server中配置，location中也可以覆盖<br>The index variable tells NGINX which file to serve if none is specified.</p>
<h3 id="location-修饰符"><a href="#location-修饰符" class="headerlink" title="location 修饰符"></a>location 修饰符</h3><ul>
<li><p>The = modifier<br>The requested document URI must match the specified pattern exactly(只能严格匹配一个字符串路径)，不能使用正则</p>
</li>
<li><p>No modifier<br>The requested document URI must begin with the specified pattern.不能使用正则</p>
</li>
<li><p>The ^~ modifier (类似于没有修饰符情况，它比正则匹配享有优先权)<br>Similar to the no-symbol behavior, the location URI must begin with the specified pattern.<br>The difference is that if the pattern is matched, Nginx stops searching for other patterns</p>
</li>
<li><p>The ~ modifier (uri大小写敏感)<br>The requested URI must be a case-sensitive match to the specified regular expression</p>
</li>
<li><p>The ~* modifier (uri大小写不敏感)<br>The requested URI must be a case-insensitive match to the specified regular expression</p>
<h3 id="location的匹配顺序-Search-order-and-priority"><a href="#location的匹配顺序-Search-order-and-priority" class="headerlink" title="location的匹配顺序(Search order and priority)"></a>location的匹配顺序(Search order and priority)</h3><p>location 的匹配和先后顺序无关。<br>Nginx will search for matching patterns in a specific order:</p>
</li>
<li><p>location blocks with the = modifier: If the specified string exactly matches the<br>requested URI, Nginx retains the location block.</p>
</li>
<li><p>location blocks with no modifier: If the specified string exactly matches the<br>requested URI, Nginx retains the location block.</p>
</li>
<li><p>location blocks with the ^~ modifier: If the specified string matches the beginning<br>of the requested URI, Nginx retains the location block.</p>
</li>
<li><p>location blocks with ~ or ~* modifier: If the regular expression matches the<br>requested URI, Nginx retains the location block.</p>
</li>
<li><p>location blocks with no modifier: If the specified string matches the beginning of<br>the requested URI, Nginx retains the location block.</p>
</li>
</ul>
<h3 id="会导致内部重定向的几个命令"><a href="#会导致内部重定向的几个命令" class="headerlink" title="会导致内部重定向的几个命令"></a><a href="https://www.digitalocean.com/community/tutorials/understanding-nginx-server-and-location-block-selection-algorithms" target="_blank" rel="noopener">会导致内部重定向的几个命令</a></h3><p>Some directives that can lead to this type of internal redirect are:</p>
<ul>
<li>index</li>
<li>try_files</li>
<li>rewrite</li>
<li>error_page</li>
</ul>
<pre class=" language-shell"><code class="language-shell">        root         /usr/share/nginx/html/data;
        index index.html;
        location  /a {
            root /home;
            #这里如果要留在这个block中可以使用 try_files $uri $uri.html $uri/
            #它会依次匹配/a文件  /a.html文件  /a/目录   

        }
        error_page 404 /404.html;
        location = /40x.html {
        }</code></pre>
<p>情况1：假设根目录下只有/home<br>如果有一个请求 /a 过来，nginx会先匹配第一个location block，此时进入block之后，会重新定义根目录，即 /home ,然后就没有然后了，在access.log中会报404状态码，表示未找到页面，在error.log中它会记录 open() “/home/a” failed (2: No such file or directory)，接着它会走error_page ，导航到/404.html , nginx会匹配 /404.html 这个URI，此时相当于重新寻找要走的block，此时相当于以 / 开头，即根目录，它会去/usr/share/nginx/html/data下寻找404.html<br>情况2： 根目录下只有/home/a ，a文件夹里面什么都没有<br>此时nginx会进入a目录，access.log中报”GET /a/ HTTP/1.1” 403 ，error.log中报 directory index of “/home/a/“ is forbidden<br>情况3： a中新建一个index.html文件<br>access.log 中状态码 200，返回的是a文件夹中的index.html. 它会默认index index.html.</p>
<h3 id="index-字段"><a href="#index-字段" class="headerlink" title="index 字段"></a>index 字段</h3><p>Context: http, server, location. Variables are accepted.(即这几个http server,location 中都存在index字段。默认 index.html)<br>This defines the default page that Nginx will serve if no filename is specified in the<br>request (in other words, the index page). You may specify multiple filenames, and the first<br>file to be found will be served. If none of the specified files are found, and if the<br>autoindex directive is enabled (check the HTTP Autoindex module), Nginx will attempt to<br>generate an automatic index of the files. Otherwise, it will return a 403 Forbidden error<br>page. Optionally, you may insert an absolute filename (such as /page.html, based from<br>the document root directory) but only as the last argument of the directive.<br>Syntax: index file1 [file2…] [absolute_file];<br>Default value: index.html</p>
<p>HTTP 304 未改变说明无需再次传输请求的内容，也就是说可以使用缓存的内容</p>
<h3 id="浏览器缓存"><a href="#浏览器缓存" class="headerlink" title="浏览器缓存"></a>浏览器缓存</h3><p>所有以jpg/png/gif结尾的图片文件缓存24h<br>location ~ .*.(jpg|png|gif)$ {<br>        expires 24h;<br>}</p>
<h3 id="浏览器缓存-1"><a href="#浏览器缓存-1" class="headerlink" title="浏览器缓存"></a>浏览器缓存</h3><p>add_header name value<br>location ~ .*.json$ {<br>        add_header Access-Control-Allow-Origin <a href="http://localhost:3000" target="_blank" rel="noopener">http://localhost:3000</a>;<br>        add_header Access-Control-Allow-Methods GET,POST,PUT,DELETE,OPTIONS;<br>        root /data/json;<br>    }</p>
<h3 id="防盗链"><a href="#防盗链" class="headerlink" title="防盗链"></a>防盗链</h3><p>The HTTP referer (a misspelling of referrer),By checking the referrer, the new webpage can see where the request originated.<br>In the most common situation this means that when a user clicks a hyperlink in a web browser, the browser sends a request to the server holding the destination webpage. The request may include the referer field, which indicates the last page the user was on (the one where they clicked the link).</p>
<p>location ~ .*.(jpg|png|gif)$ {<br>        expires 1h;<br>        valid_referers none blocked 47.104.184.134;<br>        if ($invalid_referer) {<br>           return 403;<br>        }<br>        root /data/images;<br>    }</p>
<ul>
<li>none “Referer” 为空</li>
<li>blocked “Referer”不为空，但是里面的值被代理或者防火墙删除了，这些值都不以http://或者https://开头，而是“Referer: XXXXXXX”这种形式</li>
<li>server_names “Referer”来源头部包含当前的server_names（当前域名）</li>
<li>arbitrary string 任意字符串,定义服务器名或者可选的URI前缀.主机名可以使用*开头或者结尾，在检测来源头部这个过程中，来源域名中的主机端口将会被忽略掉</li>
<li>regular expression 正则表达式,~表示排除https://或http://开头的字符串.<br>注意:通过Referer实现防盗链比较基础，仅可以简单实现方式资源被盗用。构造Referer的请求很容易实现<h3 id="代理服务"><a href="#代理服务" class="headerlink" title="代理服务"></a>代理服务</h3>正向代理，代理的是客户端，比如浏览器，翻墙上外网。<br>反向代理代理的是服务器，浏览器访问代理服务器，比如nginx代理服务器，nginx转发请求给后面的服务器集群处理，平衡负载，同时也保证了业务服务器的安全性，客户端感知不到业务处理服务器，互联网向外暴露的是nginx代理服务器。</li>
</ul>
<h3 id="反向代理"><a href="#反向代理" class="headerlink" title="反向代理"></a><a href="http://www.zhufengpeixun.com/plan/html/43.nginx.html#t518.7.1%20upstream" target="_blank" rel="noopener">反向代理</a></h3><p>在http模块中配置upstream模块，放置服务器集群<br>在server模块location中配置 proxy_pass </p>
<pre class=" language-shell"><code class="language-shell">http{
    upstream test {    # 定义一个服务器组名 ，默认用轮询的方式分配
        server localhost:3000;
        server localhost:4000;
        server localhost:5000;
    }

    server {
          location / {
            proxy_pass http://test; #以/开头的路由转交给服务器组test处理
        }
    }
}</code></pre>
<h3 id="阿里云端口问题"><a href="#阿里云端口问题" class="headerlink" title="阿里云端口问题"></a><a href="https://cnodejs.org/topic/599d58e1f36051a45246c2b5" target="_blank" rel="noopener">阿里云端口问题</a></h3><p>ifconfig看不到外网ip，只显示环回地址和内网ip</p>
<p>答案：阿里云现在不能使用经典网络了，现在连接应该是通过转发一次到内部机房的，所以ECS里面只能看到一个局域网的IP.在ECS实例的安全组配置里面配置外网可访问的端口，这样就能在外面使用公网IP访问了。开启3000、4000、5000端口</p>
<p>Accelerated support with caching of FastCGI, uwsgi, Simple Common Gateway<br>Interface (SCGI)</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://tumbleweed.top/session-vs-jwt/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="zonglinlee">
      <meta itemprop="description" content="Hello world!">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="风滚草">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/session-vs-jwt/" class="post-title-link" itemprop="url">session vs jwt</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-04-28 16:03:57" itemprop="dateCreated datePublished" datetime="2020-04-28T16:03:57+00:00">2020-04-28</time>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/session-vs-jwt/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="session-vs-jwt/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>koa-session-minimal<br>内部引入了uid-safe(unique id for cookie and url)模块来产生一个sid(session id),当用户登录后调用ctx.cookies.set(key,value),key时koa-session-minimal配置时候传入的key,value是uid模块生成的session id,服务器在返回的时候设置了 set-cookie=sid,用来管理会话,服务器和客户端来回传递此sessionid ,服务器保存了ctx.session对象，通过此id来查询服务器上保存的用户信息，默认保存在memory-store中，浏览器窗口关闭，session对象就会丢失，持久化保存请用对应的数据库store</p>
<p>jwt 是另外一种会话管理机制<br>服务的生成token返回给客户端，客户端保存在localStorage 或者sessionStorage中，在axios中配置全局默认响应头 authorization，传入token<br>axios.defaults.headers[‘Authorization’] = sessionStorage.getItem(“token”);<br>服务端收到之后，从req对象中提取token,再校验token的合法性，token中包含了用户名。</p>
<p>服务端设置httponly后，客户端不能使用document.cookie获取值<br>res.header(“Access-Control-Allow-Origin”, “具体请求源”);  //这里要写具体请求地址<br>res.header(“ Access-Control-Allow-Credentials”, true);      //增加<br>vue中：<br>axios.defaults.withCredentials = true</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://tumbleweed.top/bootstrap/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="zonglinlee">
      <meta itemprop="description" content="Hello world!">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="风滚草">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/bootstrap/" class="post-title-link" itemprop="url">bootstrap 入门</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-04-28 16:03:57" itemprop="dateCreated datePublished" datetime="2020-04-28T16:03:57+00:00">2020-04-28</time>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/bootstrap/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="bootstrap/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="bootstrap-v4-4-入门"><a href="#bootstrap-v4-4-入门" class="headerlink" title="bootstrap v4.4 入门"></a>bootstrap v4.4 入门</h1><h2 id="使用bootstrap"><a href="#使用bootstrap" class="headerlink" title="使用bootstrap"></a>使用bootstrap</h2><h3 id="在head中引入css"><a href="#在head中引入css" class="headerlink" title="在head中引入css"></a><a href="https://getbootstrap.com/docs/4.4/getting-started/introduction/#css" target="_blank" rel="noopener">在head中引入css</a></h3><h3 id="引入js"><a href="#引入js" class="headerlink" title="引入js"></a><a href="https://getbootstrap.com/docs/4.4/getting-started/introduction/#js" target="_blank" rel="noopener">引入js</a></h3><p>bootstrap的js是基于jQuery开发的，有的组件需要js,有的不需要，所以可以参考官方文档，需要的时候再引入js文件，除了jQuery之外，还要引入proper.min.js,bootstrap.min.js,官方引入的是jQuery缩减版的，当然也支持jQuery完整版的。</p>
<h3 id="重要的几个规定"><a href="#重要的几个规定" class="headerlink" title="重要的几个规定"></a>重要的几个规定</h3><ul>
<li>HTML5 doctype必须声明<pre class=" language-html"><code class="language-html"><span class="token doctype">&lt;!doctype html></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
...
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre>
</li>
<li>响应式meta标签必须声明<pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>width<span class="token punctuation">=</span>device-width, initial-scale<span class="token punctuation">=</span>1, shrink-to-fit<span class="token punctuation">=</span>no<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></code></pre>
</li>
</ul>
<h3 id="reboot"><a href="#reboot" class="headerlink" title="reboot"></a><a href="https://getbootstrap.com/docs/4.4/getting-started/introduction/#reboot" target="_blank" rel="noopener">reboot</a></h3><p>reboot 是基于normalize.css开发的一个运用于bootstrap的通用css样式设置，用来消除跨浏览器渲染的一些差异。</p>
<h2 id="浏览器支持"><a href="#浏览器支持" class="headerlink" title="浏览器支持"></a><a href="https://getbootstrap.com/docs/4.4/getting-started/browsers-devices/" target="_blank" rel="noopener">浏览器支持</a></h2><p>Bootstrap supports the latest, stable releases of all major browsers and platforms. On Windows, we support Internet Explorer 10-11 / Microsoft Edge.<br>如果需要支持ie8-9,请使用bootstrap 3<br>bootstrap use Autoprefixer to handle intended browser support via CSS prefixes, which uses Browserslist to manage these browser versions.<br>更多浏览器差异和bugs请查看官方文档。</p>
<pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// agent sniffing</span>
<span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> nua <span class="token operator">=</span> navigator<span class="token punctuation">.</span>userAgent
  <span class="token keyword">var</span> isAndroid <span class="token operator">=</span> <span class="token punctuation">(</span>nua<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'Mozilla/5.0'</span><span class="token punctuation">)</span> <span class="token operator">></span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">&amp;&amp;</span> nua<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'Android '</span><span class="token punctuation">)</span> <span class="token operator">></span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">&amp;&amp;</span> nua<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'AppleWebKit'</span><span class="token punctuation">)</span> <span class="token operator">></span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">&amp;&amp;</span> nua<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'Chrome'</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>isAndroid<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'select.form-control'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">removeClass</span><span class="token punctuation">(</span><span class="token string">'form-control'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'width'</span><span class="token punctuation">,</span> <span class="token string">'100%'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre>
<h2 id="使用bootstrap-plugin"><a href="#使用bootstrap-plugin" class="headerlink" title="使用bootstrap plugin"></a>使用bootstrap plugin</h2><p>bootstrap插件都是基于jQuery开发的，所以jQuery必须在插件之前引入，可以在package.json文件中查看支持那个版本的jQuery。<br>可以在<code>js/dist/*.js</code>目录下引入单个bootstrap插件，也可以一次性引入所有插件bootstrap.js 或者bootstrap.min.js</p>
<h2 id="自定义bootstrap样式"><a href="#自定义bootstrap样式" class="headerlink" title="自定义bootstrap样式"></a><a href="https://getbootstrap.com/docs/4.4/getting-started/theming/" target="_blank" rel="noopener">自定义bootstrap样式</a></h2><p>添加自定义的 custom.scss 样式</p>
<pre class=" language-css"><code class="language-css">// 一：在custom<span class="token number">.</span>css中你可以引入全部的scss文件
<span class="token atrule"><span class="token rule">@import</span> <span class="token string">"../node_modules/bootstrap/scss/bootstrap"</span><span class="token punctuation">;</span></span>
//二：引入部分scss文件
//required
<span class="token atrule"><span class="token rule">@import</span> <span class="token string">"../node_modules/bootstrap/scss/functions"</span><span class="token punctuation">;</span></span>
<span class="token atrule"><span class="token rule">@import</span> <span class="token string">"../node_modules/bootstrap/scss/variables"</span><span class="token punctuation">;</span></span>
<span class="token atrule"><span class="token rule">@import</span> <span class="token string">"../node_modules/bootstrap/scss/mixins"</span><span class="token punctuation">;</span></span>
// Optional
<span class="token atrule"><span class="token rule">@import</span> <span class="token string">"../node_modules/bootstrap/scss/reboot"</span><span class="token punctuation">;</span></span></code></pre>
<p>不使用package manager时候的目录结构<br>your-project/<br>├── scss<br>│   └── custom.scss<br>└── bootstrap/<br>    ├── js<br>    └── scss<br>使用package manager时候的目录结构<br>your-project/<br>├── scss<br>│   └── custom.scss<br>└── node_modules/<br>    └── bootstrap<br>        ├── js<br>        └── scss</p>
<h3 id="默认变量"><a href="#默认变量" class="headerlink" title="默认变量"></a>默认变量</h3><p>在<code>scss/_variables.scss</code>你可以找到所有的变量，默认变量以 <code>!default</code>开头，你可以在custom.scss文件中覆盖它，但要去掉 <code>!default</code> 前缀，有一些默认变量为 null ,它并不会生效，除非你在custom.scss文件中重新定义它。<br>自定义的变量写在引入默认变量之前。</p>
<pre class=" language-scss"><code class="language-scss"><span class="token comment" spellcheck="true">// Your variable overrides</span>
<span class="token property"><span class="token variable">$body-bg</span></span><span class="token punctuation">:</span> <span class="token hexcode">#000</span><span class="token punctuation">;</span>
<span class="token property"><span class="token variable">$body-color</span></span><span class="token punctuation">:</span> <span class="token hexcode">#111</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// Bootstrap and its default variables</span>
<span class="token keyword">@import</span> <span class="token string">"../node_modules/bootstrap/scss/bootstrap"</span><span class="token punctuation">;</span></code></pre>
<h2 id="bootstrap-栅格系统"><a href="#bootstrap-栅格系统" class="headerlink" title="bootstrap 栅格系统"></a>bootstrap 栅格系统</h2><p>bootstrap提供了 3 种网格容器</p>
<ul>
<li>.container, which sets a max-width at each responsive breakpoint<br>  在extra-small(小于576px)才是100%，其余的断点都是固定宽度</li>
<li>.container-fluid, which is width: 100% at all breakpoints<br>  在所有断点下都是100%宽度</li>
<li>.container-{breakpoint}, which is width: 100% until the specified breakpoint<br>  .container-sm(small&gt;576px)/.container-md(medium&gt;768px)/.container-lg(large&gt;992px)/.container-xl(Extra large&gt;1200px)<br>bootstrap 基于 flexbox 构建了12列等宽的网格系统，可以自适应 5 种屏幕尺寸。</li>
</ul>
<p>Grid breakpoints are based on minimum width media queries, meaning they apply to that one breakpoint and all those above it (e.g., .col-sm-4 applies to small, medium, large, and extra large devices, but not the first xs breakpoint).</p>
<pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>container<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token comment" spellcheck="true">&lt;!-- Stack the columns on mobile by making one full-width and the other half-width --></span>
  <span class="token comment" spellcheck="true">&lt;!-- 首先bootstrap会根据屏幕尺寸匹配meida query,如果在手机上打开，由于屏幕尺寸较小，md的媒体查询匹配不到，第一个div的col-md-8类匹配不到要添加的样式，所以它就是一个没有样式的div，宽度100%，第二个div匹配col-6类的样式，占据屏幕一半，等屏幕尺寸变大之后，两个div都匹配md下的媒体查询样式 --></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>row<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col-md-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>.col-md-8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col-6 col-md-4<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>.col-6 .col-md-4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>

  <span class="token comment" spellcheck="true">&lt;!-- Columns start at 50% wide on mobile and bump up to 33.3% wide on desktop --></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>row<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col-6 col-md-4<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>.col-6 .col-md-4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col-6 col-md-4<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>.col-6 .col-md-4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col-6 col-md-4<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>.col-6 .col-md-4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>

  <span class="token comment" spellcheck="true">&lt;!-- Columns are always 50% wide, on mobile and desktop --></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>row<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col-6<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>.col-6<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col-6<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>.col-6<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre>
<ul>
<li>Use col-{breakpoint}-auto classes to size columns based on the natural width of their content.<code>&lt;div class=&quot;col-md-auto&quot;&gt;</code>类似于width:fit-content;</li>
<li>Rows are wrappers for columns. Each column has horizontal padding (called a gutter) for controlling the space between them. This padding is then counteracted on the rows with negative margins. This way, all the content in your columns is visually aligned down the left side.(Gutter width    30px ,15px on each side of a column)</li>
</ul>
<h3 id="Row-columns"><a href="#Row-columns" class="headerlink" title="Row columns"></a>Row columns</h3><p>Use the responsive <code>.row-cols-*</code> classes to quickly set the number of columns that best render your content and layout. Whereas normal .col-* classes apply to the individual columns (e.g., .col-md-4), the row columns classes are set on the parent .row as a shortcut.</p>
<h3 id="Alignment"><a href="#Alignment" class="headerlink" title="Alignment"></a><a href="https://getbootstrap.com/docs/4.4/layout/grid/#alignment" target="_blank" rel="noopener">Alignment</a></h3><h4 id="Vertical-alignment"><a href="#Vertical-alignment" class="headerlink" title="Vertical alignment"></a>Vertical alignment</h4><pre class=" language-html"><code class="language-html"><span class="token comment" spellcheck="true">&lt;!-- 应用于行，调整所有子元素位置 --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>row align-items-start<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>row align-items-center<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>row align-items-end<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token comment" spellcheck="true">&lt;!-- 应用于列 调整单个子元素位置 --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col align-self-start<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col align-self-center<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col align-self-end<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></code></pre>
<h4 id="Horizontal-alignment"><a href="#Horizontal-alignment" class="headerlink" title="Horizontal alignment"></a>Horizontal alignment</h4><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>row justify-content-start<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>row justify-content-center<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>row justify-content-end<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>row justify-content-around<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>row justify-content-between<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></code></pre>
<h3 id="No-gutters"><a href="#No-gutters" class="headerlink" title="No gutters"></a>No gutters</h3><p>The gutters between columns in our predefined grid classes can be removed with .no-gutters. This removes the negative margins from .row and the horizontal padding from all immediate children columns.</p>
<pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>row no-gutters<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col-sm-6 col-md-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>.col-sm-6 .col-md-8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col-6 col-md-4<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>.col-6 .col-md-4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre>
<h3 id="Column-wrapping"><a href="#Column-wrapping" class="headerlink" title="Column wrapping"></a>Column wrapping</h3><p>If more than 12 columns are placed within a single row, each group of extra columns will, as one unit, wrap onto a new line.</p>
<h3 id="Column-breaks"><a href="#Column-breaks" class="headerlink" title="Column breaks"></a><a href="https://getbootstrap.com/docs/4.4/layout/grid/#no-gutters" target="_blank" rel="noopener">Column breaks</a></h3><pre class=" language-html"><code class="language-html"> <span class="token comment" spellcheck="true">&lt;!-- Force next columns to break to new line --></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>w-100<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre>
<h3 id="Reordering"><a href="#Reordering" class="headerlink" title="Reordering"></a>Reordering</h3><p>Use <code>.order-</code> classes for controlling the visual order of your content(<code>.order-1.order-md-2</code>), Includes support for 1 through 12 across all five grid tiers.<br>There are also responsive <code>.order-first</code> and <code>.order-last</code> classes that change the order of an element by applying order: -1 and order: 13 (order: $columns + 1), respectively.</p>
<h3 id="Offsetting-columns"><a href="#Offsetting-columns" class="headerlink" title="Offsetting columns"></a>Offsetting columns</h3><p>Move columns to the right using <code>.offset-md-*</code> classes.<code>.offset-md-4</code> moves <code>.col-md-4</code>over four columns.</p>
<h3 id="Margin-utilities"><a href="#Margin-utilities" class="headerlink" title="Margin utilities"></a>Margin utilities</h3><p>With the move to flexbox in v4, you can use margin utilities like <code>.mr-auto</code> to force sibling columns away from one another.</p>
<h3 id="Customizing-the-grid"><a href="#Customizing-the-grid" class="headerlink" title="Customizing the grid"></a>Customizing the grid</h3><p>Using our built-in grid Sass variables and maps, it’s possible to completely customize the predefined grid classes. Change the number of tiers, the media query dimensions, and the container widths—then recompile.</p>
<h2 id="Utilities-for-layout"><a href="#Utilities-for-layout" class="headerlink" title="Utilities for layout"></a><a href="https://getbootstrap.com/docs/4.4/layout/utilities-for-layout/" target="_blank" rel="noopener">Utilities for layout</a></h2><p>Bootstrap includes dozens of utility classes for showing, hiding, aligning, and spacing content.</p>
<ul>
<li>Changing display(Visible only on sm    <code>.d-none .d-sm-block .d-md-none</code>)</li>
<li><a href="https://getbootstrap.com/docs/4.4/utilities/spacing/" target="_blank" rel="noopener">Margin and padding</a><br>Spacing utilities that apply to all breakpoints, from xs to xl, have no breakpoint abbreviation in them. </li>
<li>Toggle visibility(.visible or .invisible )<h3 id="Flexbox-options"><a href="#Flexbox-options" class="headerlink" title="Flexbox options"></a>Flexbox options</h3>不是所有的元素都是display：flex;如果要开启弹性盒子，添加<code>.d-flex</code> or one of the responsive variants (<code>.d-sm-flex</code>  <code>.d-inline-flex.</code>).</li>
</ul>
<p><code>.flex-row .flex-row-reverse</code> <code>.flex-column .flex-column-reverse</code><br><code>justify-content-start .justify-content-end .justify-content-center</code><br><code>.justify-content-between.justify-content-around</code><br><code>.align-items-start.align-items-end.align-items-center</code><br><code>.align-items-baseline.align-items-stretch</code><br><code>.align-self-start.align-self-end.align-self-center</code><br><code>.align-self-baseline.align-self-stretch</code></p>
<h4 id="Fill"><a href="#Fill" class="headerlink" title="Fill"></a>Fill</h4><p>Use the <code>.flex-fill</code> class on a series of sibling elements to force them into widths equal to their content </p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p><code>.flex-grow-*</code> <code>.flex-shrink-*</code> <code>.flex-{grow|shrink}-0 .flex-{grow|shrink}-1</code></p>
<h4 id="Auto-margins"><a href="#Auto-margins" class="headerlink" title="Auto margins"></a>Auto margins</h4><p>Flexbox can do some pretty awesome things when you mix flex alignments with auto margins. Shown below are three examples of controlling flex items via auto margins: default (no auto margin), pushing two items to the right (<code>.mr-auto</code>), and pushing two items to the left (<code>.ml-auto</code>).</p>
<h4 id="wrap"><a href="#wrap" class="headerlink" title="wrap"></a>wrap</h4><p><code>.flex-nowrap</code>, wrapping with <code>.flex-wrap</code> or reverse wrapping with <code>.flex-wrap-reverse</code>.</p>
<h4 id="order"><a href="#order" class="headerlink" title="order"></a>order</h4><p><code>.order-0.order-1.order-2.order-3.order-4.order-5.order-6.order-7.order-8.order-9.order-10.order-11.order-12</code></p>
<h4 id="Align-content"><a href="#Align-content" class="headerlink" title="Align content"></a>Align content</h4><p>Use align-content utilities on flexbox containers to align flex items together on the cross axis. Choose from start (browser default), end, center, between, around, or stretch. To demonstrate these utilities, we’ve enforced flex-wrap: wrap and increased the number of flex items.<br><code>This property has no effect on single rows of flex items.</code></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://tumbleweed.top/tar-unzip/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="zonglinlee">
      <meta itemprop="description" content="Hello world!">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="风滚草">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/tar-unzip/" class="post-title-link" itemprop="url">tar-unzip</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-04-28 16:03:57" itemprop="dateCreated datePublished" datetime="2020-04-28T16:03:57+00:00">2020-04-28</time>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/tar-unzip/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="tar-unzip/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>Linux下常见的压缩包格式有5种:zip tar.gz tar.bz2 tar.xz tar.Z<br>其中tar是种打包格式,gz和bz2等后缀才是指代压缩方式:gzip和bzip2<br>unzip filename.zip<br>事实上, 从1.15版本开始tar就可以自动识别压缩的格式,故不需人为区分压缩格式就能正确解压<br>tar -xvf filename.tar.gz<br>tar -xvf filename.tar.bz2<br>tar -xvf filename.tar.xz<br>tar -xvf filename.tar.Z</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/3/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="zonglinlee"
      src="/images/avatar.gif">
  <p class="site-author-name" itemprop="name">zonglinlee</p>
  <div class="site-description" itemprop="description">Hello world!</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">30</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
        <span class="site-state-item-count">4</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
        <span class="site-state-item-count">6</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/zonglinlee" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;zonglinlee" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:173389705@qq.com" title="E-Mail → mailto:173389705@qq.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 2019 – 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">zonglinlee</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://mist.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Mist</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>

<script src="/js/utils.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>


  <script defer src="/lib/three/three.min.js"></script>
    <script defer src="/lib/three/three-waves.min.js"></script>


  















  

  

<script>
  function loadCount() {
    var d = document, s = d.createElement('script');
    s.src = 'https://tumbleweed-top.disqus.com/count.js';
    s.id = 'dsq-count-scr';
    (d.head || d.body).appendChild(s);
  }
  // defer loading until the whole page loading is completed
  window.addEventListener('load', loadCount, false);
</script>

</body>
</html>
